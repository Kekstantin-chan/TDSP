#### Вопрос 06

##### Расчет основных показателей многоканальных СМО с отказом.

**Система массового обслуживания**

*Система массового обслуживания (СМО)* — система, которая производит обслуживание поступающих в неё требований.

$\lambda$ - плотность потоков, поступающих в систему заявок;

$\mu$ - интенсивность обслуживания заявок одним каналом;

$T_{пр}$ - время простоя канала;

$T_{об}$ - среднее время обслуживания;

$$
\mu = \frac{1}{T_{об}} \;\;\; \lambda = \frac{1}{T_{пр}}
$$

$\alpha$ - среднее число заявок, приходящее за среднее время обслуживания одной заявки:

$$
\alpha = \frac{\lambda}{\mu}
$$

**СМО с отказами**

В *СМО с отказами* заявка, поступившая в момент, когда все каналы заняты, получает отказ, покидает СМО и в
дальнейшем процессе обслуживания не участвует. 

**Многоканальная СМО с отказами**

*Формулировка*: имеется $n$ каналов, на которые поступает поток заявок с интенсивностью $\lambda$. Поток обслуживаний каждого канала имеет интенсивность $\mu$.

Граф состояний СМО соответствует процессу гибели и размножения. Состояния системы:

- $S_0$ - канал свободен;
- $S_i$ - $i$ каналов занято;
- $S_n$ - все каналы заняты.

Граф состояний СМО:

![Screenshot_1](./Answer_5_6/Screenshot_1.png)

Поток заявок последовательно переводит систему из любого левого состояния в соседнее правое с одной и той же интенсивностью $\lambda$. Интенсивность потока обслуживаний, переводящих систему из любого правого состояния в соседнее левое состояние, постоянно меняется в зависимости от состояния. Если СМО находится в состоянии S_2 (два канала заняты), то она может перейти в состояние S_1 (один канал занят), когда закончит обслуживание либо первый, либо второй канал, т.е. суммарная интенсивность их потоков обслуживания будет $2\mu$.

В формуле для схемы гибели и размножения получим для предельной вероятности состояния 

$$
p_0 = \left(1+\frac{\lambda}{\mu} + \frac{\lambda^2}{2! \mu^2}+ \dotsc + \frac{\lambda^n}{n! \mu^n}\right)^{-1}
$$

Члены разложения $\frac{\lambda}{\mu}, \frac{\lambda^2}{2! \mu^2},,\dotsc ,\frac{\lambda^n}{n! \mu^n}$ будут представлять собой коэффициенты при $p_0$ в выражениях для предельных вероятностей $p_1,p_2, \dotsc , p_n$.

$$
p_0 = \left(1+\alpha + \frac{\alpha^2}{2!} + \dotsc + \frac{\alpha^n}{n!}\right)^{-1} = \frac{1}{\sum_{i=0}^n \frac{\alpha^i}{i!}}
$$

Вероятность, что занято $k$ каналов:

$$
p_k=\frac{\alpha^k}{k!} \cdot p_0=\frac{\frac{\alpha^k}{k!}}{\sum_{i=0}^n \frac{\alpha^i}{i!}}
$$

Вероятность отказа СМО (вероятность того, что заявка покинет СМО необслуженной) - это вероятность того, что все $n$ каналов системы будут заняты:

$$
P_{отк} = \frac{\alpha^n}{n!} \cdot p_0 = \frac{\frac{\alpha^n}{n!}}{\sum_{i=0}^n \frac{\alpha^i}{i!}}
$$

Относительная пропускная способность - вероятность обслуживания заявки:

$$
Q= P_{обсл} =1-P_{отк}
$$

Абсолютная пропускная способность (среднее число заявок, обслуживаемых СМО в единицу времени):

$$
A = \lambda \cdot Q
$$

Т.к. абсолютная пропускная способность $A$ - это интенсивность потока обслуженных системой заявок, а каждый занятый канал обслуживает в среднем $\mu$ заявок, то среднее число занятых каналов $\overline{k}$:

$$
\overline{k} = \frac{A}{\mu} = \alpha P_{обсл}
$$

Вероятность занятости произвольного канала:

$$
P_{зан} = \frac{\overline{k}}{n}
$$

Среднее время простоя канала:

$$
\overline{t}_{пр} = \frac{1-P_{зан}}{\mu P_{зан}}
$$